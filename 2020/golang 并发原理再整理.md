
## 基本概念

* golang并发原理:内核级线程的基础上做了一层逻辑上的用户级线程+ 内核线程调度系统，用户态线程，避免了系统切换开销，提供cpu的使用率



* 并发：两个及两个程序逻辑任务同时进行，但不是同时处理，如果是单核上运行，无论多少并发都不会提升多少性能，因为所有任务都在等待cpu时间片资源。
* 并行：两个及两个程序逻辑任务同时处理，充分利用cpu资源，并行不是程序语言的特性，需要硬件的支持，并行处理的任务数量就是cpu的数量(同一时刻只有一个任务占用cpu)


## CPU密集&I/O密集
### cpu：
* 并发编程一定程度是提升不了多少，反而频繁创建进程、线程，导致性能下降。
  例如： 如果你的程序是以cpu计算为主，多线程在运行的时候，充分利用CPU，假设你有3个核心cpu,当你有3个线程时，此时1线程使用1个cpu，资源得到了最大效率的利用，如果你有3个CPU,5个线程，这样线程创建、切换增加系统开销

* 小结：在CPU密集型中，线程/进程数=cpu数 最佳，充分利用cpu

* 适合场景：计算业务较多、业务逻辑相对复杂


### i/o:
* io密集型业务，主要瓶颈在于磁盘、网络的io等待上，此时cpu空闲，为了充分使用cpu,增加线程数
* 小结：CPU核心数×2=线程数
* 适合场景：大多数web开发

### 小结
 * 无论cpu还是io，golang都适用，特别io密集型，多核前提下，golang并发变成并行，充分使用cpu资源
 
